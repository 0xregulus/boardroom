.agent-config-stage {
  flex: 1;
  min-width: 0;
  display: grid;
  grid-template-columns: 430px minmax(0, 1fr);
  background: #f8fafc;
}

.agent-config-sidebar {
  border-right: 1px solid var(--slate-200);
  background: #fff;
  display: flex;
  flex-direction: column;
  min-height: 0;
}

.agent-config-sidebar-head {
  border-bottom: 1px solid var(--slate-200);
  padding: 22px 18px 16px;
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
}

.agent-config-sidebar-head-copy {
  display: block;
}

.agent-config-sidebar-head h2 {
  margin: 0;
  font-size: clamp(19px, 1.7vw, 24px);
  line-height: 1.15;
}

.agent-config-sidebar-head p {
  margin: 8px 0 0;
  color: var(--slate-500);
  font-size: 12px;
  line-height: 1.5;
}

.agent-config-add {
  flex-shrink: 0;
  border: 0;
  border-radius: 11px;
  width: 34px;
  height: 34px;
  background: #eef2ff;
  color: var(--indigo-600);
  display: grid;
  place-items: center;
  padding: 0;
  cursor: pointer;
  transition: background-color 0.15s ease, border-color 0.15s ease, transform 0.15s ease;
}

.agent-config-add svg {
  width: 14px;
  height: 14px;
}

.agent-config-add:hover:not(:disabled) {
  background: #dbeafe;
}

.agent-config-add:disabled {
  cursor: not-allowed;
  opacity: 0.55;
}

.agent-config-sidebar-list {
  flex: 1;
  min-height: 0;
  overflow: auto;
  display: grid;
  align-content: start;
  gap: 9px;
  padding: 14px;
}

.agent-config-item {
  border: 2px solid var(--slate-100);
  border-radius: 15px;
  background: #fff;
  padding: 14px;
  display: grid;
  grid-template-columns: 44px minmax(0, 1fr) auto;
  align-items: center;
  gap: 10px;
  cursor: pointer;
  transition: border-color 0.16s ease, box-shadow 0.16s ease, background-color 0.16s ease;
}

.agent-config-item:hover {
  border-color: #dbe3f1;
  background: #f8fafc;
}

.agent-config-item.active {
  border-color: var(--indigo-500);
  background: #f8faff;
  box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
}

.agent-config-item-avatar {
  width: 44px;
  height: 44px;
  border-radius: 12px;
  background: var(--bg-muted-2);
  color: var(--slate-400);
  display: grid;
  place-items: center;
}

.agent-config-item-avatar svg {
  width: 26px;
  height: 26px;
  display: block;
}

.agent-config-item-avatar.active {
  background: var(--indigo-500);
  color: #fff;
}

.agent-config-item-copy {
  min-width: 0;
  display: block;
}

.agent-config-item-copy h3 {
  margin: 0;
  color: var(--slate-900);
  font-size: 15px;
  font-weight: 700;
  line-height: 1.3;
}

.agent-config-item-copy p {
  margin: 4px 0 0;
  color: var(--slate-500);
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  line-height: 1.35;
}

.agent-config-item-delete {
  width: 24px;
  height: 24px;
  border: 0;
  border-radius: 6px;
  background: transparent;
  color: #f43f5e;
  display: grid;
  place-items: center;
  cursor: pointer;
  opacity: 0;
  transition: opacity 0.15s ease, background-color 0.15s ease;
}

.agent-config-item-delete svg {
  width: 18px;
  height: 18px;
}

.agent-config-item:hover .agent-config-item-delete,
.agent-config-item.active .agent-config-item-delete {
  opacity: 1;
}

.agent-config-item-delete:hover {
  background: rgba(255, 42, 93, 0.12);
}

.agent-config-sidebar-footer {
  margin-top: auto;
  border-top: 1px solid var(--slate-200);
  padding: 12px 14px 14px;
  display: grid;
  gap: 10px;
}

.agent-config-editor-footer {
  border-top: 1px solid var(--slate-200);
  padding-top: 16px;
  display: grid;
  gap: 10px;
}

.agent-config-sidebar-actions {
  display: grid;
  gap: 8px;
}

.agent-config-sync-state {
  margin: 0;
  border: 1px solid var(--slate-200);
  border-radius: 10px;
  background: #fff;
  color: var(--slate-500);
  font-size: 11px;
  font-weight: 600;
  line-height: 1.45;
  padding: 8px 10px;
}

.agent-config-sync-state.tone-saving {
  border-color: #c7d9fe;
  background: #eff4ff;
  color: #1d4ed8;
}

.agent-config-sync-state.tone-saved {
  border-color: #bbf7d0;
  background: #ecfdf5;
  color: #047857;
}

.agent-config-sync-state.tone-error {
  border-color: #fecaca;
  background: #fef2f2;
  color: #b91c1c;
}

.agent-config-sync-state.tone-dirty {
  border-color: #fde68a;
  background: #fffbeb;
  color: #b45309;
}

.agent-config-save {
  margin: 0;
  border: 0;
  border-radius: 12px;
  background: var(--indigo-500);
  color: #fff;
  font-size: 12px;
  font-weight: 800;
  padding: 11px 12px;
  cursor: pointer;
  box-shadow: 0 10px 18px rgba(67, 56, 202, 0.24);
  transition: background-color 0.15s ease, transform 0.15s ease, box-shadow 0.15s ease;
}

.agent-config-save:hover:not(:disabled) {
  background: var(--indigo-600);
  transform: translateY(-1px);
}

.agent-config-save:disabled {
  cursor: not-allowed;
  opacity: 0.55;
  box-shadow: none;
}

.agent-config-reset {
  margin: 0;
  border: 1px solid #d3dbe8;
  border-radius: 12px;
  background: #fff;
  color: #4e6281;
  font-size: 12px;
  font-weight: 700;
  padding: 10px 12px;
  cursor: pointer;
  transition: background-color 0.15s ease, border-color 0.15s ease;
}

.agent-config-reset:hover {
  background: #f6f8fb;
  border-color: #bcc8dd;
}

.agent-config-editor {
  min-width: 0;
  overflow: auto;
  padding: 28px;
  display: grid;
  align-content: start;
  gap: 20px;
  animation: agent-profile-enter 0.22s ease;
}

.agent-config-editor>* {
  width: min(100%, 920px);
  margin-inline: auto;
}

.agent-config-editor-head {
  display: flex;
  align-items: center;
  gap: 12px;
}

.agent-config-editor-avatar {
  width: 56px;
  height: 56px;
  border-radius: 16px;
  background: var(--indigo-500);
  color: #fff;
  display: grid;
  place-items: center;
}

.agent-config-editor-avatar svg {
  width: 33px;
  height: 33px;
  display: block;
}

.agent-config-editor-copy {
  display: grid;
  gap: 4px;
}

.agent-config-editor-copy h2 {
  margin: 0;
  color: var(--slate-900);
  font-size: clamp(29px, 3.4vw, 40px);
  font-weight: 800;
  line-height: 1.05;
}

.agent-config-editor-copy p {
  margin: 0;
  color: var(--slate-600);
  font-size: 16px;
  line-height: 1.6;
}

.agent-config-primary-card {
  border: 1px solid var(--slate-200);
  border-radius: 24px;
  background: #fff;
  box-shadow: 0 8px 18px rgba(15, 23, 42, 0.06);
  padding: 24px;
  display: grid;
  gap: 16px;
}

.agent-config-primary-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 14px;
}

.agent-config-research-card {
  border: 1px solid var(--slate-200);
  border-radius: 24px;
  background: #fff;
  box-shadow: 0 8px 18px rgba(15, 23, 42, 0.06);
  padding: 20px 24px;
  display: grid;
  gap: 14px;
}

.agent-config-research-head h3 {
  margin: 0;
  color: var(--slate-900);
  font-size: 16px;
  font-weight: 800;
}

.agent-config-research-head p {
  margin: 6px 0 0;
  color: var(--slate-600);
  font-size: 13px;
  line-height: 1.45;
}

.agent-config-research-toggle {
  width: 100%;
  border: 0;
  background: transparent;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  text-align: left;
  cursor: pointer;
}

.agent-config-research-chevron {
  width: 16px;
  height: 16px;
  color: var(--slate-400);
  flex-shrink: 0;
}

.agent-config-research-chevron svg {
  width: 16px;
  height: 16px;
}

.agent-config-research-options {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 10px;
}

.agent-config-research-option {
  border: 1px solid var(--slate-200);
  border-radius: 14px;
  background: #f8fafc;
  padding: 12px;
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 10px;
  align-items: center;
  cursor: pointer;
}

.agent-config-research-option input {
  margin: 0;
}

.agent-config-research-option-copy {
  display: grid;
  gap: 3px;
}

.agent-config-research-option-copy strong {
  color: var(--slate-800);
  font-size: 13px;
}

.agent-config-research-option-copy span {
  color: var(--slate-500);
  font-size: 11px;
}

.agent-config-research-option.disabled {
  opacity: 0.55;
  cursor: not-allowed;
}

.agent-config-research-global {
  margin: 14px 14px 0;
  padding: 14px;
  gap: 12px;
  box-shadow: none;
}

.agent-config-research-global .agent-config-research-options {
  grid-template-columns: 1fr;
}

.agent-config-group {
  display: grid;
  gap: 8px;
}

.agent-config-group-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
}

.agent-config-group-label {
  margin: 0;
  color: var(--slate-500);
  font-size: 10px;
  font-weight: 800;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  line-height: 1.2;
}

.agent-config-input {
  width: 100%;
  border: 1px solid var(--slate-200);
  border-radius: 12px;
  background: #f8fafc;
  color: var(--slate-800);
  padding: 11px 12px;
  font-size: 13px;
  font-weight: 600;
  text-transform: none;
  letter-spacing: normal;
}

.agent-config-input::placeholder {
  color: var(--slate-400);
}

.agent-config-input.agent-config-textarea {
  resize: vertical;
  min-height: 118px;
  line-height: 1.55;
}

.agent-config-input:focus {
  outline: none;
  border-color: #c7d2fe;
  background: #fff;
}

.agent-config-advanced-card {
  border: 1px solid var(--slate-200);
  border-radius: 24px;
  background: #fff;
  box-shadow: 0 8px 18px rgba(15, 23, 42, 0.06);
  overflow: hidden;
}

.agent-config-advanced-toggle {
  width: 100%;
  border: 0;
  border-bottom: 1px solid var(--slate-200);
  background: #f8fafc;
  color: var(--slate-700);
  padding: 12px 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  cursor: pointer;
}

.agent-config-advanced-card.open .agent-config-advanced-toggle {
  border-bottom-color: var(--slate-200);
}

.agent-config-advanced-title {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  color: var(--slate-700);
  font-size: 14px;
  font-weight: 700;
}

.agent-config-advanced-title svg {
  width: 18px;
  height: 18px;
  color: var(--indigo-600);
}

.agent-config-advanced-chevron {
  width: 16px;
  height: 16px;
  color: var(--slate-400);
}

.agent-config-advanced-chevron svg {
  width: 16px;
  height: 16px;
}

.agent-config-advanced-body {
  padding: 20px;
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 12px;
}

.agent-config-temperature-value {
  border-radius: 999px;
  background: #eef2ff;
  color: var(--indigo-600);
  font-size: 10px;
  font-weight: 800;
  line-height: 1;
  letter-spacing: 0.04em;
  padding: 4px 8px;
}

.agent-config-temperature-control {
  display: grid;
  gap: 10px;
}

.agent-config-temperature-control input[type="range"] {
  width: 100%;
  margin: 0;
  appearance: none;
  height: 8px;
  border: 0;
  border-radius: 999px;
  background: linear-gradient(90deg,
      var(--indigo-500) 0,
      var(--indigo-500) var(--agent-temp, 70%),
      #c8d3e4 var(--agent-temp, 70%),
      #c8d3e4 100%);
}

.agent-config-temperature-control input[type="range"]::-webkit-slider-runnable-track {
  height: 8px;
  border-radius: 999px;
  background: transparent;
}

.agent-config-temperature-control input[type="range"]::-webkit-slider-thumb {
  appearance: none;
  width: 18px;
  height: 18px;
  margin-top: -5px;
  border: 0;
  border-radius: 999px;
  background: var(--indigo-500);
  box-shadow: 0 3px 8px rgba(67, 56, 202, 0.35);
}

.agent-config-temperature-control input[type="range"]::-moz-range-track {
  height: 8px;
  border-radius: 999px;
  background: #c8d3e4;
}

.agent-config-temperature-control input[type="range"]::-moz-range-progress {
  height: 8px;
  border-radius: 999px;
  background: var(--indigo-500);
}

.agent-config-temperature-control input[type="range"]::-moz-range-thumb {
  width: 18px;
  height: 18px;
  border: 0;
  border-radius: 999px;
  background: var(--indigo-500);
  box-shadow: 0 3px 8px rgba(67, 56, 202, 0.35);
}

.agent-config-slider-meta {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  color: var(--slate-500);
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

